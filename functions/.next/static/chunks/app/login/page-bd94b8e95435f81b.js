(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{1942:(e,t,a)=>{Promise.resolve().then(a.bind(a,6960))},5610:(e,t,a)=>{"use strict";a.d(t,{db:()=>d,j:()=>n});var r=a(3915),i=a(5317),o=a(3004),l=a(858);let u=(0,r.Wp)({apiKey:"AIzaSyDKhEzFJi9HCHLVG_L3I4W8FtAT42dcuaU",authDomain:"mobile-6cc0b.firebaseapp.com",projectId:"mobile-6cc0b",storageBucket:"mobile-6cc0b.firebasestorage.app",messagingSenderId:"858564731564",appId:"1:858564731564:web:7116cb2c45b641501b3509"}),d=(0,i.aU)(u),n=(0,o.xI)(u);(0,l.c7)(u)},5695:(e,t,a)=>{"use strict";var r=a(8999);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},6960:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var r=a(5155),i=a(2115),o=a(4540),l=a(8601),u=a(5695);function d(){let e=(0,o.wA)();return(0,u.useRouter)(),(0,i.useEffect)(()=>{e((0,l.eK)("login"))},[e]),(0,r.jsx)("div",{children:"Redirecting..."})}},7409:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>c,Bo:()=>i,CG:()=>d,bE:()=>o,dt:()=>l,o7:()=>u,sX:()=>n});let r=(0,a(1990).Z0)({name:"cart",initialState:{items:[],totalQuantity:0,totalPrice:0},reducers:{setCart:(e,t)=>t.payload,addToCart(e,t){let a=t.payload,r=e.items.find(e=>e.productId===a.id);if(r)r.quantity+=1;else{var i;e.items.push({productId:a.id,name:a.name,price:a.price,imageUrl:(null==(i=a.imageUrls)?void 0:i[0])||"",quantity:1})}e.totalQuantity+=1,e.totalPrice+=a.price},removeFromCart(e,t){let a=t.payload,r=e.items.find(e=>e.productId===a);r&&(e.totalQuantity-=r.quantity,e.totalPrice-=r.price*r.quantity,e.items=e.items.filter(e=>e.productId!==a))},increaseQuantity(e,t){let a=t.payload,r=e.items.find(e=>e.productId===a);r&&(r.quantity+=1,e.totalQuantity+=1,e.totalPrice+=r.price)},decreaseQuantity(e,t){let a=t.payload,i=e.items.find(e=>e.productId===a);i&&i.quantity>1?(i.quantity-=1,e.totalQuantity-=1,e.totalPrice-=i.price):r.caseReducers.removeFromCart(e,{payload:a})},clearCart(e){e.items=[],e.totalQuantity=0,e.totalPrice=0,localStorage.removeItem("cart")}}}),{setCart:i,addToCart:o,removeFromCart:l,increaseQuantity:u,decreaseQuantity:d,clearCart:n}=r.actions,c=r.reducer},8601:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>p,Uh:()=>c,eK:()=>d,gV:()=>s,gs:()=>n,lM:()=>m,y4:()=>y});var r=a(1990),i=a(7409),o=a(3004),l=a(5610);let u=(0,r.Z0)({name:"auth",initialState:{modalOpen:!1,mode:"login",user:null,loading:!0},reducers:{openAuthModal:(e,t)=>{e.modalOpen=!0,e.mode=t.payload||"login"},closeAuthModal:e=>{e.modalOpen=!1},toggleAuthMode:e=>{e.mode="login"===e.mode?"signup":"login"},setUser:(e,t)=>{e.user=t.payload,e.loading=!1},clearUser:e=>{e.user=null,e.loading=!1}}}),{openAuthModal:d,closeAuthModal:n,toggleAuthMode:c,setUser:s,clearUser:m}=u.actions,p=u.reducer,y=()=>async e=>{try{localStorage.removeItem("cart"),await (0,o.CI)(l.j),e((0,i.sX)()),e(m())}catch(e){console.error("Logout failed:",e)}}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,156,835,540,990,441,684,358],()=>t(1942)),_N_E=e.O()}]);