(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[584],{144:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(5155),l=a(2115),i=a(5695),r=a(3004),n=a(5317),c=a(5610),u=a(9009),d=a.n(u);function o(){let e=(0,i.useRouter)(),s=(0,r.xI)(),[a,u]=(0,l.useState)(!0),[o,p]=(0,l.useState)(null),[m,h]=(0,l.useState)({fullName:"",phone:"",legal:{street:"",city:"",zip:"",country:""},delivery:{street:"",city:"",zip:"",country:""},sameAsLegal:!0}),[b,x]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let a=(0,r.hg)(s,async s=>{if(!s)return void e.replace("/");p(s);let a=(0,n.H9)(c.db,"users",s.uid),t=await (0,n.x7)(a);if(t.exists()){let e=t.data();h({fullName:e.fullName||"",phone:e.phone||"",legal:e.legal||{street:"",city:"",zip:"",country:""},delivery:e.delivery||{street:"",city:"",zip:"",country:""},sameAsLegal:!1})}u(!1)});return()=>a()},[s,e]);let g=(e,s,a)=>{s?h(t=>({...t,[s]:{...t[s],[a]:e.target.value}})):h(s=>({...s,[e.target.name]:e.target.value}))},y=async e=>{if(e.preventDefault(),!o)return;let s={fullName:m.fullName,phone:m.phone,legal:m.legal,delivery:m.sameAsLegal?m.legal:m.delivery};await (0,n.BN)((0,n.H9)(c.db,"users",o.uid),s,{merge:!0}),x(!0)};return a?(0,t.jsx)("p",{children:"Loading..."}):(0,t.jsxs)("div",{className:d().container,children:[(0,t.jsx)("h1",{className:d().title,children:"Your Profile"}),b&&(0,t.jsx)("p",{className:d().successMessage,children:"Profile updated successfully!"}),(0,t.jsxs)("form",{onSubmit:y,className:d().form,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:"Email"}),(0,t.jsx)("input",{type:"email",value:o.email,disabled:!0,className:d().inputDisabled})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:"Full Name"}),(0,t.jsx)("input",{type:"text",name:"fullName",value:m.fullName,onChange:g,required:!0,className:d().input})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:"Phone"}),(0,t.jsx)("input",{type:"tel",name:"phone",value:m.phone,onChange:g,className:d().input})]}),(0,t.jsx)("h2",{className:d().sectionTitle,children:"Legal Address"}),["street","city","zip","country"].map(e=>(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:e.charAt(0).toUpperCase()+e.slice(1)}),(0,t.jsx)("input",{type:"text",value:m.legal[e],onChange:s=>g(s,"legal",e),className:d().input})]},e)),(0,t.jsxs)("div",{className:d().checkboxRow,children:[(0,t.jsx)("input",{type:"checkbox",checked:m.sameAsLegal,onChange:()=>{h(e=>({...e,sameAsLegal:!e.sameAsLegal,delivery:e.sameAsLegal?{street:"",city:"",zip:"",country:""}:{...e.legal}}))}}),(0,t.jsx)("label",{children:"Delivery address same as legal"})]}),!m.sameAsLegal&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:d().sectionTitle,children:"Delivery Address"}),["street","city","zip","country"].map(e=>(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:e.charAt(0).toUpperCase()+e.slice(1)}),(0,t.jsx)("input",{type:"text",value:m.delivery[e],onChange:s=>g(s,"delivery",e),className:d().input})]},e))]}),(0,t.jsx)("button",{type:"submit",className:d().button,children:"Save"})]})]})}},2904:(e,s,a)=>{Promise.resolve().then(a.bind(a,144))},5610:(e,s,a)=>{"use strict";a.d(s,{db:()=>c,j:()=>u});var t=a(3915),l=a(5317),i=a(3004),r=a(858);let n=(0,t.Wp)({apiKey:"AIzaSyDKhEzFJi9HCHLVG_L3I4W8FtAT42dcuaU",authDomain:"mobile-6cc0b.firebaseapp.com",projectId:"mobile-6cc0b",storageBucket:"mobile-6cc0b.firebasestorage.app",messagingSenderId:"858564731564",appId:"1:858564731564:web:7116cb2c45b641501b3509"}),c=(0,l.aU)(n),u=(0,i.xI)(n);(0,r.c7)(n)},5695:(e,s,a)=>{"use strict";var t=a(8999);a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}})},9009:e=>{e.exports={container:"user_container__ynt_z",title:"user_title__W2IoN",sectionTitle:"user_sectionTitle__Ifq6_",form:"user_form__57M9e",input:"user_input__S9FCF",inputDisabled:"user_inputDisabled__Qki5E",checkboxRow:"user_checkboxRow__udAKc",successMessage:"user_successMessage__IHEOB",button:"user_button__tWE2b"}}},e=>{var s=s=>e(e.s=s);e.O(0,[46,992,156,835,441,684,358],()=>s(2904)),_N_E=e.O()}]);