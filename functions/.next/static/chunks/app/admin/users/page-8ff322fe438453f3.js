(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[733],{2035:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});var t=a(2115);function r(e){let{children:s}=e,[a,r]=(0,t.useState)(!1);return(0,t.useEffect)(()=>r(!0),[]),a?s:null}},2520:e=>{e.exports={managerContainer:"users-manager_managerContainer__FmLfz",usersTable:"users-manager_usersTable__U0LbK",loading:"users-manager_loading__1hj0E",errorMessage:"users-manager_errorMessage__vgt6C",editButton:"users-manager_editButton__pUSja",deleteButton:"users-manager_deleteButton__FHIXQ",roleSelect:"users-manager_roleSelect__HNn6Q"}},3302:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(5155),r=a(2115),l=a(5317),n=a(5610),c=a(2520),i=a.n(c);function d(){let[e,s]=(0,r.useState)([]),[a,c]=(0,r.useState)(!0),[d,u]=(0,r.useState)(null),o=async()=>{c(!0);try{let e=(await (0,l.GG)((0,l.rJ)(n.db,"users"))).docs.map(e=>({id:e.id,...e.data()}));s(e)}catch(e){u("Failed to fetch users.")}finally{c(!1)}};(0,r.useEffect)(()=>{o()},[]);let h=async(e,s)=>{try{await (0,l.mZ)((0,l.H9)(n.db,"users",e),{role:s}),alert("Role updated successfully!"),o()}catch(e){alert("Failed to update role: "+e.message)}},m=async e=>{if(window.confirm("Are you sure you want to delete this user?"))try{await (0,l.kd)((0,l.H9)(n.db,"users",e)),alert("User deleted successfully!"),o()}catch(e){alert("Failed to delete user: "+e.message)}};return(0,t.jsxs)("div",{className:i().managerContainer,children:[(0,t.jsx)("h2",{children:"Users Management"}),a?(0,t.jsx)("p",{className:i().loading,children:"Loading..."}):d?(0,t.jsx)("p",{className:i().errorMessage,children:d}):(0,t.jsxs)("table",{className:i().usersTable,children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Email"}),(0,t.jsx)("th",{children:"Role"}),(0,t.jsx)("th",{children:"Actions"})]})}),(0,t.jsx)("tbody",{children:e.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.email}),(0,t.jsx)("td",{children:(0,t.jsxs)("select",{value:e.role,onChange:s=>h(e.id,s.target.value),className:i().roleSelect,children:[(0,t.jsx)("option",{value:"customer",children:"Customer"}),(0,t.jsx)("option",{value:"admin",children:"Admin"})]})}),(0,t.jsx)("td",{children:(0,t.jsx)("button",{className:i().deleteButton,onClick:()=>m(e.id),children:"Delete"})})]},e.id))})]})]})}var u=a(2035);function o(){return(0,t.jsx)(u.A,{children:(0,t.jsx)(d,{})})}},5610:(e,s,a)=>{"use strict";a.d(s,{db:()=>i,j:()=>d});var t=a(3915),r=a(5317),l=a(3004),n=a(858);let c=(0,t.Wp)({apiKey:"AIzaSyDKhEzFJi9HCHLVG_L3I4W8FtAT42dcuaU",authDomain:"mobile-6cc0b.firebaseapp.com",projectId:"mobile-6cc0b",storageBucket:"mobile-6cc0b.firebasestorage.app",messagingSenderId:"858564731564",appId:"1:858564731564:web:7116cb2c45b641501b3509"}),i=(0,r.aU)(c),d=(0,l.xI)(c);(0,n.c7)(c)},6376:(e,s,a)=>{Promise.resolve().then(a.bind(a,3302))}},e=>{var s=s=>e(e.s=s);e.O(0,[843,992,156,835,441,684,358],()=>s(6376)),_N_E=e.O()}]);