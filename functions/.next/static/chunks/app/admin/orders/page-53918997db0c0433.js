(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[798],{2152:(e,r,t)=>{Promise.resolve().then(t.bind(t,7117))},4651:(e,r,t)=>{"use strict";t.d(r,{Cq:()=>l,Nn:()=>d,P_:()=>i,lU:()=>s,tI:()=>c});var n=t(5317),o=t(5610);let a=(e,r)=>{switch(r){case"Devices":return e.map(e=>({id:e.id||"",name:e.name||"Unnamed Category",type:e.type||"unknown",parent:e.parent||null,...e}));case"Products":return e.map(e=>({id:e.id||"",name:e.name||"Unnamed Product",price:e.price||0,description:e.description||"",categoryId:e.categoryId||"unknown",productTypeId:e.productTypeId||"unknown",imageUrls:Array.isArray(e.imageUrls)?e.imageUrls:[]}));default:return e}},c=async(e,r)=>{if(!e||!r)throw Error("Collection name and data are required.");try{return{id:(await (0,n.gS)((0,n.rJ)(o.db,e),r)).id,...r}}catch(r){throw console.error("Error adding document to ".concat(e,":"),r),r}},s=async(e,r,t)=>{if(!e||!r||!t)throw Error("Collection name, ID, and data are required.");try{let a=(0,n.H9)(o.db,e,r);return await (0,n.mZ)(a,t),{id:r,...t}}catch(r){throw console.error("Error updating document in ".concat(e,":"),r),r}},d=async(e,r)=>{if(!e||!r)throw Error("Collection name and ID are required.");try{let t=(0,n.H9)(o.db,e,r);return await (0,n.kd)(t),r}catch(r){throw console.error("Error deleting document from ".concat(e,":"),r),r}},i=async e=>{if(!e)throw Error("Collection name is required.");try{let r=(await (0,n.GG)((0,n.rJ)(o.db,e))).docs.map(e=>({id:e.id,...e.data()}));console.log('[Firestore] Raw Data from Collection "'.concat(e,'":'),r);let t=a(r,e);return console.log('[Firestore] Validated Documents for Collection "'.concat(e,'":'),t),t}catch(r){throw console.error("Error fetching documents from ".concat(e,":"),r),r}},l=async function(e,r,t){let c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!e)throw Error("Collection name is required.");try{let s=(0,n.rJ)(o.db,e),d=Object.entries(r).map(e=>{let[r,t]=e;return(0,n._M)(r,"==",t)});d.push((0,n.My)("price","asc")),d.push((0,n.AB)(t)),c&&d.push((0,n.HM)(c));let i=(0,n.P)(s,...d),l=await (0,n.GG)(i),u=l.docs.map(e=>({id:e.id,...e.data()})),m=l.docs[l.docs.length-1],p=a(u,e);return console.log('[Firestore] Paginated Documents for Collection "'.concat(e,'":'),p),{docs:p,lastVisible:m}}catch(r){throw console.error("Error fetching paginated documents from ".concat(e,":"),r),r}}},4742:e=>{e.exports={"manager-container":"products-manager_manager-container__hNwer","top-section":"products-manager_top-section__tYg5y",filters:"products-manager_filters__gcJDQ","filter-dropdown":"products-manager_filter-dropdown__nRat5","add-button":"products-manager_add-button__Ogx46","product-list":"products-manager_product-list__8X5VW","product-item":"products-manager_product-item__YK3jo","product-actions":"products-manager_product-actions__35cdf","edit-button":"products-manager_edit-button__NpNc_","delete-button":"products-manager_delete-button__P9ZR7","error-message":"products-manager_error-message__1mf_o"}},5610:(e,r,t)=>{"use strict";t.d(r,{db:()=>d,j:()=>i});var n=t(3915),o=t(5317),a=t(3004),c=t(858);let s=(0,n.Wp)({apiKey:"AIzaSyDKhEzFJi9HCHLVG_L3I4W8FtAT42dcuaU",authDomain:"mobile-6cc0b.firebaseapp.com",projectId:"mobile-6cc0b",storageBucket:"mobile-6cc0b.firebasestorage.app",messagingSenderId:"858564731564",appId:"1:858564731564:web:7116cb2c45b641501b3509"}),d=(0,o.aU)(s),i=(0,a.xI)(s);(0,c.c7)(s)},7117:(e,r,t)=>{"use strict";t.d(r,{default:()=>d});var n=t(5155),o=t(2115),a=t(4651),c=t(4742),s=t.n(c);function d(){let[e,r]=(0,o.useState)([]),[t,c]=(0,o.useState)(null),[d,i]=(0,o.useState)(!0);(0,o.useEffect)(()=>{!async function(){try{let e=await (0,a.P_)("orders");r(e)}catch(e){console.error("Failed to fetch orders:",e)}finally{i(!1)}}()},[]);let l=e=>{c(r=>r===e?null:e)};return(0,n.jsxs)("div",{className:s()["manager-container"],children:[(0,n.jsx)("h2",{children:"Orders"}),d?(0,n.jsx)("p",{children:"Loading..."}):0===e.length?(0,n.jsx)("p",{children:"No orders found."}):(0,n.jsx)("div",{className:s().list,children:e.map(e=>{var r,o,a,c;return(0,n.jsxs)("div",{className:s()["list-item"],style:{border:"1px solid #ccc",borderRadius:"6px",marginBottom:"1rem",padding:"1rem",cursor:"pointer"},onClick:()=>l(e.id),children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsx)("strong",{children:"Order ID:"})," ",e.id]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Status:"})," ",e.status]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Total:"})," €",e.totalPrice.toFixed(2)]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Customer:"})," ",null==(r=e.contactInfo)?void 0:r.name]}),t===e.id&&(0,n.jsxs)("div",{style:{marginTop:"1rem"},children:[(0,n.jsx)("strong",{children:"Items:"}),(0,n.jsx)("ul",{style:{paddingLeft:"1rem",marginTop:"0.5rem"},children:e.items.map((e,r)=>(0,n.jsxs)("li",{children:[e.name," \xd7 ",e.quantity," — €",(e.price*e.quantity).toFixed(2)]},r))}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Email:"})," ",null==(o=e.contactInfo)?void 0:o.email]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Phone:"})," ",null==(a=e.contactInfo)?void 0:a.phone]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Address:"})," ",null==(c=e.contactInfo)?void 0:c.address]})]})]},e.id)})})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[905,992,156,835,441,684,358],()=>r(2152)),_N_E=e.O()}]);