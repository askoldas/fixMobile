(()=>{var e={};e.id=733,e.ids=[733],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7328:(e,r,t)=>{Promise.resolve().then(t.bind(t,63705))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13891:(e,r,t)=>{Promise.resolve().then(t.bind(t,23697))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},23697:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\37128\\\\Desktop\\\\FixMobile\\\\fix-mobile\\\\src\\\\app\\\\admin\\\\layout.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\37128\\Desktop\\FixMobile\\fix-mobile\\src\\app\\admin\\layout.jsx","default")},27910:e=>{"use strict";e.exports=require("stream")},27963:(e,r,t)=>{Promise.resolve().then(t.bind(t,96442))},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33395:e=>{e.exports={managerContainer:"users-manager_managerContainer__FmLfz",usersTable:"users-manager_usersTable__U0LbK",loading:"users-manager_loading__1hj0E",errorMessage:"users-manager_errorMessage__vgt6C",editButton:"users-manager_editButton__pUSja",deleteButton:"users-manager_deleteButton__FHIXQ",roleSelect:"users-manager_roleSelect__HNn6Q"}},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},53414:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>d});var s=t(65239),i=t(48088),n=t(88170),a=t.n(n),o=t(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let d={children:["",{children:["admin",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,63705)),"C:\\Users\\37128\\Desktop\\FixMobile\\fix-mobile\\src\\app\\admin\\users\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,23697)),"C:\\Users\\37128\\Desktop\\FixMobile\\fix-mobile\\src\\app\\admin\\layout.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,39769)),"C:\\Users\\37128\\Desktop\\FixMobile\\fix-mobile\\src\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,u=["C:\\Users\\37128\\Desktop\\FixMobile\\fix-mobile\\src\\app\\admin\\users\\page.jsx"],c={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/admin/users/page",pathname:"/admin/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},55511:e=>{"use strict";e.exports=require("crypto")},56042:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(60687),i=t(43210),n=t(75535),a=t(762),o=t(33395),l=t.n(o);function d(){let[e,r]=(0,i.useState)([]),[t,o]=(0,i.useState)(!0),[d,u]=(0,i.useState)(null),c=async()=>{o(!0);try{let e=(await (0,n.GG)((0,n.rJ)(a.db,"users"))).docs.map(e=>({id:e.id,...e.data()}));r(e)}catch(e){u("Failed to fetch users.")}finally{o(!1)}},p=async(e,r)=>{try{await (0,n.mZ)((0,n.H9)(a.db,"users",e),{role:r}),alert("Role updated successfully!"),c()}catch(e){alert("Failed to update role: "+e.message)}},x=async e=>{if(window.confirm("Are you sure you want to delete this user?"))try{await (0,n.kd)((0,n.H9)(a.db,"users",e)),alert("User deleted successfully!"),c()}catch(e){alert("Failed to delete user: "+e.message)}};return(0,s.jsxs)("div",{className:l().managerContainer,children:[(0,s.jsx)("h2",{children:"Users Management"}),t?(0,s.jsx)("p",{className:l().loading,children:"Loading..."}):d?(0,s.jsx)("p",{className:l().errorMessage,children:d}):(0,s.jsxs)("table",{className:l().usersTable,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Email"}),(0,s.jsx)("th",{children:"Role"}),(0,s.jsx)("th",{children:"Actions"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.email}),(0,s.jsx)("td",{children:(0,s.jsxs)("select",{value:e.role,onChange:r=>p(e.id,r.target.value),className:l().roleSelect,children:[(0,s.jsx)("option",{value:"customer",children:"Customer"}),(0,s.jsx)("option",{value:"admin",children:"Admin"})]})}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{className:l().deleteButton,onClick:()=>x(e.id),children:"Delete"})})]},e.id))})]})]})}var u=t(97213);function c(){return(0,s.jsx)(u.A,{children:(0,s.jsx)(d,{})})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63705:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\37128\\\\Desktop\\\\FixMobile\\\\fix-mobile\\\\src\\\\app\\\\admin\\\\users\\\\page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\37128\\Desktop\\FixMobile\\fix-mobile\\src\\app\\admin\\users\\page.jsx","default")},70440:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var s=t(31658);let i=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},70880:(e,r,t)=>{Promise.resolve().then(t.bind(t,56042))},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96442:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(60687);t(43210);var i=t(16189),n=t(31847);function a({children:e}){(0,i.useRouter)();let{isLoggedIn:r,isAdmin:t,loading:a}=(0,n.A)();return!a&&r&&t?e:(0,s.jsx)("div",{children:"Loading..."})}var o=t(85814),l=t.n(o);let d=[{href:"/admin/products",label:"Products"},{href:"/admin/categories",label:"Categories"},{href:"/admin/users",label:"Users"},{href:"/admin/orders",label:"Orders"}];function u(){let e=(0,i.usePathname)();return(0,s.jsx)("nav",{children:(0,s.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0},children:d.map(({href:r,label:t})=>(0,s.jsx)("li",{style:{marginBottom:"12px"},children:(0,s.jsx)(l(),{href:r,style:{textDecoration:"none",color:e===r?"#000":"#555",fontWeight:e===r?"bold":"normal"},children:t})},r))})})}function c({children:e}){return(0,s.jsx)(a,{children:(0,s.jsxs)("div",{style:{display:"flex",minHeight:"100vh",fontFamily:"Arial, sans-serif"},children:[(0,s.jsxs)("aside",{style:{width:"220px",padding:"20px",backgroundColor:"#f8f9fa",borderRight:"1px solid #ccc",position:"fixed",paddingTop:"40px",top:0,bottom:0,left:0,overflowY:"auto"},children:[(0,s.jsx)("h2",{style:{marginBottom:"20px"},children:"Admin Menu"}),(0,s.jsx)(u,{})]}),(0,s.jsx)("main",{style:{marginLeft:"220px",padding:"20px",flex:1},children:e})]})})}},97213:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var s=t(43210);function i({children:e}){let[r,t]=(0,s.useState)(!1);return r?e:null}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[447,39,658,975],()=>t(53414));module.exports=s})();