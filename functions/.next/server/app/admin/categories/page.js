(()=>{var e={};e.id=631,e.ids=[631],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12441:e=>{e.exports={"manager-container":"product-types-manager_manager-container__19W3x","add-button":"product-types-manager_add-button__xZKF1","types-list":"product-types-manager_types-list__XbJSF","type-item":"product-types-manager_type-item__aLE37","type-details":"product-types-manager_type-details__Ina1x","type-actions":"product-types-manager_type-actions__RebMC","edit-button":"product-types-manager_edit-button__Ai41D","delete-button":"product-types-manager_delete-button__Y8k2o","nested-types":"product-types-manager_nested-types__Scuwa","add-child-container":"product-types-manager_add-child-container__SCZRN","add-child-button":"product-types-manager_add-child-button__nQ2f7","error-message":"product-types-manager_error-message__7I8fq"}},13891:(e,t,r)=>{Promise.resolve().then(r.bind(r,23697))},18449:(e,t,r)=>{"use strict";r.d(t,{Cq:()=>l,Nn:()=>d,P_:()=>c,lU:()=>n,tI:()=>o});var a=r(75535),s=r(762);let i=(e,t)=>{switch(t){case"Devices":return e.map(e=>({id:e.id||"",name:e.name||"Unnamed Category",type:e.type||"unknown",parent:e.parent||null,...e}));case"Products":return e.map(e=>({id:e.id||"",name:e.name||"Unnamed Product",price:e.price||0,description:e.description||"",categoryId:e.categoryId||"unknown",productTypeId:e.productTypeId||"unknown",imageUrls:Array.isArray(e.imageUrls)?e.imageUrls:[]}));default:return e}},o=async(e,t)=>{if(!e||!t)throw Error("Collection name and data are required.");try{return{id:(await (0,a.gS)((0,a.rJ)(s.db,e),t)).id,...t}}catch(t){throw console.error(`Error adding document to ${e}:`,t),t}},n=async(e,t,r)=>{if(!e||!t||!r)throw Error("Collection name, ID, and data are required.");try{let i=(0,a.H9)(s.db,e,t);return await (0,a.mZ)(i,r),{id:t,...r}}catch(t){throw console.error(`Error updating document in ${e}:`,t),t}},d=async(e,t)=>{if(!e||!t)throw Error("Collection name and ID are required.");try{let r=(0,a.H9)(s.db,e,t);return await (0,a.kd)(r),t}catch(t){throw console.error(`Error deleting document from ${e}:`,t),t}},c=async e=>{if(!e)throw Error("Collection name is required.");try{let t=(await (0,a.GG)((0,a.rJ)(s.db,e))).docs.map(e=>({id:e.id,...e.data()}));console.log(`[Firestore] Raw Data from Collection "${e}":`,t);let r=i(t,e);return console.log(`[Firestore] Validated Documents for Collection "${e}":`,r),r}catch(t){throw console.error(`Error fetching documents from ${e}:`,t),t}},l=async(e,t,r,o=null)=>{if(!e)throw Error("Collection name is required.");try{let n=(0,a.rJ)(s.db,e),d=Object.entries(t).map(([e,t])=>(0,a._M)(e,"==",t));d.push((0,a.My)("price","asc")),d.push((0,a.AB)(r)),o&&d.push((0,a.HM)(o));let c=(0,a.P)(n,...d),l=await (0,a.GG)(c),p=l.docs.map(e=>({id:e.id,...e.data()})),u=l.docs[l.docs.length-1],m=i(p,e);return console.log(`[Firestore] Paginated Documents for Collection "${e}":`,m),{docs:m,lastVisible:u}}catch(t){throw console.error(`Error fetching paginated documents from ${e}:`,t),t}}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},23697:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\37128\\\\Desktop\\\\FixMobile\\\\fix-mobile\\\\src\\\\app\\\\admin\\\\layout.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\37128\\Desktop\\FixMobile\\fix-mobile\\src\\app\\admin\\layout.jsx","default")},27682:(e,t,r)=>{Promise.resolve().then(r.bind(r,46508))},27910:e=>{"use strict";e.exports=require("stream")},27963:(e,t,r)=>{Promise.resolve().then(r.bind(r,96442))},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},46508:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(60687),s=r(43210),i=r(18449);let o=()=>{let[e,t]=(0,s.useState)([]),[r,a]=(0,s.useState)(!1),[o,n]=(0,s.useState)(null);return(0,s.useEffect)(()=>{(async()=>{a(!0);try{let e=await (0,i.P_)("Devices");t(e),n(null)}catch(e){console.error("Error fetching devices:",e),n("Failed to fetch devices.")}finally{a(!1)}})()},[]),{devices:e,loading:r,error:o,addDevice:async e=>{if(!e.name?.trim()||!e.type)throw Error("Name and type are required.");try{let r=await (0,i.tI)("Devices",e);t(e=>[...e,r])}catch(e){throw console.error("Error adding device:",e),e}},updateDevice:async(e,r)=>{try{await (0,i.lU)("Devices",e,r),t(t=>t.map(t=>t.id===e?{...t,...r}:t))}catch(e){throw console.error("Error updating device:",e),e}},deleteDevice:async e=>{try{await (0,i.Nn)("Devices",e),t(t=>t.filter(t=>t.id!==e))}catch(e){throw console.error("Error deleting device:",e),e}}}};var n=r(79933),d=r.n(n);function c(){let{devices:e,loading:t,error:r,addDevice:i,updateDevice:n,deleteDevice:c}=o(),[l,p]=(0,s.useState)({}),u=async(e,t,r="")=>{try{await i({name:e,type:t,parent:r}),alert("Category added successfully!")}catch(e){alert("Failed to add category. "+e.message)}},m=async(e,t)=>{try{await n(e,t),alert("Category updated successfully!")}catch(e){alert("Failed to update category. "+e.message)}},h=async e=>{try{await c(e),alert("Category deleted successfully!")}catch(e){alert("Failed to delete category. "+e.message)}},g=e=>{p(t=>({...t,[e]:!t[e]}))},y=e=>(0,a.jsx)("ul",{className:d()["categories-list"],children:e.map(e=>(0,a.jsxs)("li",{className:d()["category-item"],children:[(0,a.jsxs)("div",{className:d()["category-details"],onClick:()=>g(e.id),children:[(0,a.jsxs)("span",{children:[e.name," (",e.type,")"]}),(0,a.jsxs)("span",{className:d()["category-actions"],children:[(0,a.jsx)("button",{className:d()["edit-button"],onClick:t=>{t.stopPropagation();let r=prompt("Enter new name",e.name);r&&m(e.id,{name:r})},children:"Edit"}),(0,a.jsx)("button",{className:d()["delete-button"],onClick:t=>{t.stopPropagation(),window.confirm("Are you sure you want to delete this entry?")&&h(e.id)},children:"Delete"})]})]}),l[e.id]&&e.children.length>0&&(0,a.jsx)("div",{className:d()["nested-categories"],children:y(e.children)}),l[e.id]&&"brand"===e.type&&(0,a.jsx)("div",{className:d()["add-child-container"],children:(0,a.jsx)("button",{className:d()["add-child-button"],onClick:t=>{t.stopPropagation();let r=prompt("Enter new series name");r&&u(r,"series",e.id)},children:"Add Series"})}),l[e.id]&&"series"===e.type&&(0,a.jsx)("div",{className:d()["add-child-container"],children:(0,a.jsx)("button",{className:d()["add-child-button"],onClick:t=>{t.stopPropagation();let r=prompt("Enter new model name");r&&u(r,"model",e.id)},children:"Add Model"})})]},e.id))});return(0,a.jsxs)("div",{className:d()["manager-container"],children:[(0,a.jsx)("button",{className:d()["add-button"],onClick:()=>{let e=prompt("Enter new brand name");e&&u(e,"brand")},children:"Add New Brand"}),t?(0,a.jsx)("p",{className:d().loading,children:"Loading..."}):y((()=>{let t={};e.forEach(e=>{t[e.id]={...e,children:[]}});let r=[];return e.forEach(e=>{e.parent?t[e.parent]?.children.push(t[e.id]):r.push(t[e.id])}),r})()),r&&(0,a.jsx)("p",{className:d()["error-message"],children:r})]})}var l=r(12441),p=r.n(l);function u(){let[e,t]=(0,s.useState)([]),[r,o]=(0,s.useState)({}),n=async(e,r=null)=>{if(!e.trim())return void alert("Product type name is required.");try{let a=await (0,i.tI)("ProductTypes",{name:e,parent:r});t(e=>[...e,a]),alert("Product type added successfully!")}catch(e){console.error("Error adding product type:",e),alert("Failed to add product type.")}},d=async(e,r)=>{if(!r.name.trim())return void alert("Product type name is required.");try{await (0,i.lU)("ProductTypes",e,r),t(t=>t.map(t=>t.id===e?{...t,...r}:t)),alert("Product type updated successfully!")}catch(e){console.error("Error updating product type:",e),alert("Failed to update product type.")}},c=async r=>{if(window.confirm("Are you sure you want to delete this product type and its subcategories?"))try{let a=async t=>{for(let r of e.filter(e=>e.parent===t))await (0,i.Nn)("ProductTypes",r.id);await (0,i.Nn)("ProductTypes",t)};await a(r),t(e=>e.filter(e=>e.id!==r&&e.parent!==r)),alert("Product type deleted successfully!")}catch(e){console.error("Error deleting product type:",e),alert("Failed to delete product type.")}},l=e=>{o(t=>({...t,[e]:!t[e]}))},u=(t=null,r=0)=>r>1?[]:e.filter(e=>e.parent===t).map(e=>({...e,children:u(e.id,r+1)})),m=(e,t=0)=>(0,a.jsx)("ul",{className:p()["types-list"],children:e.map(e=>(0,a.jsxs)("li",{className:p()["type-item"],children:[(0,a.jsxs)("div",{className:p()["type-details"],onClick:()=>l(e.id),children:[(0,a.jsx)("span",{children:e.name}),(0,a.jsxs)("span",{className:p()["type-actions"],children:[(0,a.jsx)("button",{onClick:t=>{t.stopPropagation();let r=prompt("Enter new name",e.name);r&&d(e.id,{name:r})},className:p()["edit-button"],children:"Edit"}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),c(e.id)},className:p()["delete-button"],children:"Delete"})]})]}),r[e.id]&&e.children.length>0&&(0,a.jsx)("div",{className:p()["nested-types"],children:m(e.children,t+1)}),r[e.id]&&t<1&&(0,a.jsx)("div",{className:p()["add-child-container"],children:(0,a.jsx)("button",{onClick:t=>{t.stopPropagation();let r=prompt("Enter subcategory name");r&&n(r,e.id)},className:p()["add-child-button"],children:"Add Subcategory"})})]},e.id))});return(0,a.jsxs)("div",{className:p()["manager-container"],children:[(0,a.jsx)("button",{onClick:()=>{let e=prompt("Enter new product type name");e&&n(e)},className:p()["add-button"],children:"Add New Product Type"}),m(u())]})}var m=r(97213);function h(){return(0,a.jsxs)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,a.jsxs)("section",{style:{marginBottom:"40px"},children:[(0,a.jsx)("h2",{style:{marginBottom:"10px"},children:"Devices"}),(0,a.jsx)(m.A,{children:(0,a.jsx)(c,{})})]}),(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{style:{marginBottom:"10px"},children:"Product Types"}),(0,a.jsx)(m.A,{children:(0,a.jsx)(u,{})})]})]})}},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(31658);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},79933:e=>{e.exports={"manager-container":"categories-manager_manager-container__8OkHU","add-button":"categories-manager_add-button__0WGbS","categories-list":"categories-manager_categories-list__FGJ19","category-item":"categories-manager_category-item__cmkcc","category-details":"categories-manager_category-details__2QW3z","category-actions":"categories-manager_category-actions__i6L_Q","edit-button":"categories-manager_edit-button__UcLyL","delete-button":"categories-manager_delete-button__ySi3g","nested-categories":"categories-manager_nested-categories__avOi6","add-child-container":"categories-manager_add-child-container__BOSzd","add-child-button":"categories-manager_add-child-button__0KOe_","error-message":"categories-manager_error-message__maMw2"}},81630:e=>{"use strict";e.exports=require("http")},85492:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,pages:()=>l,routeModule:()=>u,tree:()=>c});var a=r(65239),s=r(48088),i=r(88170),o=r.n(i),n=r(30893),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let c={children:["",{children:["admin",{children:["categories",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,99889)),"C:\\Users\\37128\\Desktop\\FixMobile\\fix-mobile\\src\\app\\admin\\categories\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,23697)),"C:\\Users\\37128\\Desktop\\FixMobile\\fix-mobile\\src\\app\\admin\\layout.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,39769)),"C:\\Users\\37128\\Desktop\\FixMobile\\fix-mobile\\src\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,l=["C:\\Users\\37128\\Desktop\\FixMobile\\fix-mobile\\src\\app\\admin\\categories\\page.jsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/admin/categories/page",pathname:"/admin/categories",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},91645:e=>{"use strict";e.exports=require("net")},93402:(e,t,r)=>{Promise.resolve().then(r.bind(r,99889))},94735:e=>{"use strict";e.exports=require("events")},96442:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(60687);r(43210);var s=r(16189),i=r(31847);function o({children:e}){(0,s.useRouter)();let{isLoggedIn:t,isAdmin:r,loading:o}=(0,i.A)();return!o&&t&&r?e:(0,a.jsx)("div",{children:"Loading..."})}var n=r(85814),d=r.n(n);let c=[{href:"/admin/products",label:"Products"},{href:"/admin/categories",label:"Categories"},{href:"/admin/users",label:"Users"},{href:"/admin/orders",label:"Orders"}];function l(){let e=(0,s.usePathname)();return(0,a.jsx)("nav",{children:(0,a.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0},children:c.map(({href:t,label:r})=>(0,a.jsx)("li",{style:{marginBottom:"12px"},children:(0,a.jsx)(d(),{href:t,style:{textDecoration:"none",color:e===t?"#000":"#555",fontWeight:e===t?"bold":"normal"},children:r})},t))})})}function p({children:e}){return(0,a.jsx)(o,{children:(0,a.jsxs)("div",{style:{display:"flex",minHeight:"100vh",fontFamily:"Arial, sans-serif"},children:[(0,a.jsxs)("aside",{style:{width:"220px",padding:"20px",backgroundColor:"#f8f9fa",borderRight:"1px solid #ccc",position:"fixed",paddingTop:"40px",top:0,bottom:0,left:0,overflowY:"auto"},children:[(0,a.jsx)("h2",{style:{marginBottom:"20px"},children:"Admin Menu"}),(0,a.jsx)(l,{})]}),(0,a.jsx)("main",{style:{marginLeft:"220px",padding:"20px",flex:1},children:e})]})})}},97213:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(43210);function s({children:e}){let[t,r]=(0,a.useState)(!1);return t?e:null}},99889:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\37128\\\\Desktop\\\\FixMobile\\\\fix-mobile\\\\src\\\\app\\\\admin\\\\categories\\\\page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\37128\\Desktop\\FixMobile\\fix-mobile\\src\\app\\admin\\categories\\page.jsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[447,39,658,975],()=>r(85492));module.exports=a})();